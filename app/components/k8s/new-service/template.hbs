<section class="header">
  <h1>Add Service</h1>
</section>

<section class="horizontal-form container-fluid">
  {{form-name-description
    model=primaryResource
    namePlaceholder="e.g. myservice"
    descriptionPlaceholder="My Service"
  }}

  {{form-divider}}

  <div class="row form-group">
    <div class="col-sm-12 col-md-2 form-label">
      <label>Type</label>
    </div>
    <div class="col-sm-12 col-md-8">
      {{new-select
        class="form-control"
        content=serviceTypeChoices
        value=spec.type
      }}
    </div>
  </div>

  {{k8s/form-serviceports
    initialPorts=spec.ports
    errors=portErrors
    changed=(action (mut spec.ports))
  }}


  <div class="row form-group">
    <div class="col-sm-12 col-md-2 form-label">
      <label>Selectors</label>
    </div>
    <div class="col-sm-12 col-md-8">
      {{form-key-value
        initialMap=spec.selector
        allowEmptyValue=false
        changedStr=(action (mut spec.selector))
        nameLabel="Selector"
      }}
    </div>
  </div>

  <div class="row form-group">
    <div class="col-sm-12 col-md-2 form-label">
      <label>External IPs</label>
    </div>
    <div class="col-sm-12 col-md-8">
      {{form-value-array
        initialValues=spec.externalIPs
        changed=(action (mut spec.externalIPs))
        nameLabel="External IP"
        valueLabel="IP Address"
        valuePlaceholder="e.g. 2.24.19.82"
      }}
    </div>
  </div>

  <div class="row form-group">
    <div class="col-sm-12 col-md-2 form-label">
      <label>Session Affinity</label>
    </div>
    <div class="col-sm-12 col-md-8">
      <label>{{radio-button selection=spec.sessionAffinity value="None"}} None</label>
      <label class="r-ml20">{{radio-button selection=spec.sessionAffinity value="ClientIp"}} By client IP</label>
    </div>
  </div>
</section>

{{top-errors errors=errors}}
{{save-cancel createLabel="Create" save="save" cancel="cancel"}}
