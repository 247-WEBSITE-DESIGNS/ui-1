<section class="header">
  <ol class="breadcrumb right-divider">
    {{#link-to "environments" tagName="li" href=false}}<a>Stacks</a>{{/link-to}}
    {{#link-to "environment" service.environmentId tagName="li" href=false}}<a>{{service.displayEnvironment}}</a>{{/link-to}}
    <li class="active">
      Service:
      {{#power-select options=model.stack.services selected=service onchange=(action "changeService") searchField="displayName" as |obj|}}
        <div class="clip"><i class="{{obj.stateIcon}} {{obj.stateColor}}" tooltip="{{obj.displayState}}" data-placement="left"></i> {{obj.displayName}}</div>
      {{/power-select}}
    </li>
  </ol>

  {{action-menu model=service classNames="left-divider r-ml5" size="sm"}}
</section>

{{!todo copy pasta}}
<section>
  <div class="container-fluid container-multi-stat">
    <div class="row">
      <div class="col-sm-12 col-md-12 col-lg-12 {{service.stateBackground}}">
        <label class="section r-mt5" style="color:white;">
          State: {{service.displayState~}}
          {{#if service.showTransitioningMessage}}
            <span class="force-wrap">
              ({{service.transitioningMessage}})
            </span>
          {{/if}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12 col-lg-12">
        <div class="row multi-stats">
          <div class="col-sm-6 col-md-4">
            <label>Type:</label>
            {{service.displayType}}
          </div>
          <div class="col-sm-6 col-md-4">
            <label>FQDN:</label>
            {{#if service.fqdn}}
              <span>{{service.fqdn}} {{zero-clipboard text=service.fqdn}}</span>
            {{else}}
              <span class="text-muted">None</span>
            {{/if}}
          </div>
          <div class="col-sm-6 col-md-4">
            <label>Scale:</label>
            {{#if service.canScale}}
              {{service.scale}}
              &nbsp;
              &nbsp;
              <div class="btn-group btn-group-xs">
                <button class="btn btn-default btn-xs" {{action "scaleDown" target=service}} disabled={{eq service.scale 1}}><i class="icon icon-minus"></i></button>
                <button class="btn btn-default btn-xs" {{action "scaleUp" target=service}}><i class="icon icon-plus"></i></button>
              </div>
            {{else}}
              {{if service.isGlobalScale 'Global' 'N/A'}}
            {{/if}}
          </div>
        </div>
        {{#if service.hasImage}}
          <div class="row multi-stats">
            <div class="col-sm-6 col-md-4">
              <label>Image:</label>
              <span class="force-wrap">
                {{service.launchConfig.displayImage}} {{zero-clipboard text=service.launchConfig.displayImage}}
              </span>
            </div>
            <div class="col-sm-6 col-md-4">
              <label>Entrypoint:</label>
              <span class="force-wrap">
                {{#if service.launchConfig.entryPoint}}
                  {{service.launchConfig.entryPoint}}
                {{else}}
                  <span class="text-muted">None</span>
                {{/if}}
              </span>
            </div>
            <div class="col-sm-6 col-md-4">
              <label>Command:</label>
              <span class="force-wrap">
                {{#if service.launchConfig.command}}
                  {{concat-str service.launchConfig.command}}
                {{else}}
                  <span class="text-muted">None</span>
                {{/if}}
              </span>
            </div>
          </div>
        {{/if}}
        {{#if service.description}}
          <div class="row multi-stats">
            <div class="col-xs-12 description">
              <label>Description: </label>
              <span>{{service.description}}</span>
            </div>
          </div>
        {{/if}}
      </div>
    </div>
  </div>
</section>

{{#if (or service.hasLabels service.hasContainers)}}
  <section>
    <ul class="nav nav-tabs nav-tabs-well">
      {{#if service.hasPorts}}
        {{#link-to "service.ports" tagName="li" href=false}}<a>Ports</a>{{/link-to}}
      {{/if}}
      {{#if service.hasContainers}}
        {{#link-to "service.containers" tagName="li" href=false}}<a>Containers</a>{{/link-to}}
      {{/if}}
      {{#if service.hasLabels}}
        {{#link-to "service.labels" tagName="li" href=false}}<a>Labels</a>{{/link-to}}
      {{/if}}
    </ul>
    <div class="well nav-well">
      {{outlet}}
    </div>
  </section>
{{/if}}
